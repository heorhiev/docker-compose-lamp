FROM alpine/git

ARG PROJECT_FOLDER=/app/base
ARG GITLAB_AUTH
ARG PROJECT_REPO
ARG DEFAULT_MODULES
ARG TEMPLATE_NAME
ARG TEMPLATE_REPO

ENV PROJECT_FOLDER=$PROJECT_FOLDER
ENV GITLAB_AUTH=$GITLAB_AUTH
ENV PROJECT_REPO=$PROJECT_REPO
ENV DEFAULT_MODULES=$DEFAULT_MODULES
ENV TEMPLATE_NAME=$TEMPLATE_NAME
ENV TEMPLATE_REPO=$TEMPLATE_REPO


RUN git config --global --add safe.directory ${PROJECT_FOLDER}

COPY ./bin/baseInstaller/repo.sh /srv/repo.sh

RUN chmod +x /srv/repo.sh

ENTRYPOINT /srv/repo.sh
